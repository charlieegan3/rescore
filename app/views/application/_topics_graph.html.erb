<script type="text/javascript">
  $(document).ready(function(){

    var options = {
      scaleBeginAtZero : false,
      scaleShowGridLines : true,
      scaleGridLineColor : "rgba(0,0,0,.05)",
      scaleGridLineWidth : 1,
      scaleShowHorizontalLines: true,
      scaleShowVerticalLines: true,
      barShowStroke : true,
      barStrokeWidth : 2,
      barValueSpacing : 5,
      barDatasetSpacing : 1,
      legendTemplate : ""
    };

    var data = {
      labels: <%= topics.map { |x| x[0].to_s.capitalize }.to_s.html_safe %>,
      datasets: [
        {
            label: "My First dataset",
            fillColor: "rgba(220,220,220,0.2)",
            strokeColor: "rgba(220,220,220,1)",
            pointColor: "rgba(220,220,220,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(220,220,220,1)",
            data: <%= topics.map { |x| x[1] * 10 } %>
        }
      ]
    }

    var ctx_topics = $("#<%= id %>_topics").get(0).getContext("2d");
    var topicsChart = new Chart(ctx_topics).Radar(data, options);
  })
</script>

<canvas id="<%= id %>_topics" width="400" height="400"></canvas>

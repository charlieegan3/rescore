<script type="text/javascript">
  $(document).ready(function(){

    var options = {
      scaleBeginAtZero : true,
      scaleShowGridLines : true,
      scaleGridLineColor : "rgba(0,0,0,.05)",
      scaleGridLineWidth : 1,
      scaleShowHorizontalLines: true,
      scaleShowVerticalLines: true,
      barShowStroke : true,
      barStrokeWidth : 1,
      barValueSpacing : 5,
      barDatasetSpacing : 1,
      legendTemplate : ""
    };

    var data = {
        labels: ["0★", "1★", "2★", "3★", "4★", "5★"],
        datasets: [
            {
                label: "Ratings",
                fillColor: "#99DB6B",
                strokeColor: "#8FC861",
                data: <%= [ratings[0]] + [ratings[1..5], ratings[6..10]].transpose.map { |p| p.reduce(:+) } %>
            }
        ]
    };

    var ctx_ratings = $("#<%= id %>_ratings").get(0).getContext("2d");
    var ratingsChart = new Chart(ctx_ratings).Bar(data);
  })
</script>

<canvas id="<%= id %>_ratings" width="250" height="250"></canvas>
